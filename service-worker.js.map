{"version":3,"sources":["node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","node_modules/@babel/runtime/helpers/iterableToArray.js","node_modules/@babel/runtime/helpers/nonIterableSpread.js","node_modules/@babel/runtime/helpers/toConsumableArray.js","node_modules/@babel/runtime/helpers/arrayWithHoles.js","node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","node_modules/@babel/runtime/helpers/nonIterableRest.js","node_modules/@babel/runtime/helpers/slicedToArray.js","service-worker.js"],"names":["CACHE_NAME","staticAssets","self","addEventListener","event","waitUntil","caches","open","then","cache","fetch","response","json","assets","hashedAssets","Object","entries","filter","endsWith","map","hashedURL","addAll","skipWaiting","allowedCaches","keys","cacheNames","cacheDeletePromises","cacheName","includes","delete","Promise","all","checkResponseStatus","r","res","rej","status","statusText","isRequestCacheable","request","url","URL","protocol","isResponseCacheable","type","requestFailingWith404","catch","body","JSON","stringify","error","Response","headers","requestThenCache","put","clone","match","requestURL","Request","substring","indexOf","respondWith","navigator","onLine"],"mappings":"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","file":"service-worker.js","sourceRoot":"..","sourcesContent":["function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","const CACHE_NAME = 'airbus-showcase-v4'\r\n\r\nconst staticAssets = [\r\n  '.',\r\n  './animationData/a350.json',\r\n  './animationData/ariane.json',\r\n  './animationData/iss.json',\r\n  './animationData/orion.json',\r\n]\r\n\r\n// get the filenames to cache from the parcel-manifest and add them to cache\r\nself.addEventListener('install', event => {\r\n  event.waitUntil(\r\n    caches\r\n      .open(CACHE_NAME)\r\n      .then(cache =>\r\n        fetch('./parcel-manifest.json')\r\n          .then(response => response.json())\r\n          .then(assets => {\r\n            const hashedAssets = Object.entries(assets)\r\n              // filter out files that are unnecessary to cache\r\n              .filter(([sourceURL]) => !sourceURL.endsWith('.map'))\r\n              .map(([_, hashedURL]) => hashedURL)\r\n\r\n            return cache.addAll([...staticAssets, ...hashedAssets])\r\n          }),\r\n      )\r\n      .then(() => self.skipWaiting()),\r\n  )\r\n})\r\n\r\n/* delete old caches on activation */\r\nself.addEventListener('activate', event => {\r\n  const allowedCaches = [CACHE_NAME]\r\n  event.waitUntil(\r\n    caches.keys().then(cacheNames => {\r\n      const cacheDeletePromises = cacheNames.map(cacheName => {\r\n        if (!allowedCaches.includes(cacheName)) {\r\n          return caches.delete(cacheName)\r\n        }\r\n      })\r\n      return Promise.all(cacheDeletePromises)\r\n    }),\r\n  )\r\n})\r\n\r\nconst checkResponseStatus = r =>\r\n  new Promise((res, rej) => {\r\n    if ((r.status >= 200 && r.status < 300) || r.status === 0) res(r)\r\n    else rej(r.statusText)\r\n  })\r\n/* Helper functions to determine whether requests/responses should be cached */\r\nconst isRequestCacheable = request => {\r\n  const url = new URL(request.url)\r\n  if (url.protocol === 'chrome-extension:') return false\r\n\r\n  return true\r\n}\r\nconst isResponseCacheable = response => {\r\n  // don't cache opaque response to prevent exceeding cache size quota\r\n  // see https://cloudfour.com/thinks/when-7-kb-equals-7-mb/\r\n  if (response.status === 0 || response.type === 'opaque') return false\r\n\r\n  return true\r\n}\r\n\r\nconst requestFailingWith404 = event => {\r\n  return fetch(event.request).catch(() => {\r\n    const body = JSON.stringify({\r\n      error:\r\n        \"Sorry, you're offline. Try again once you have a working internet connection.\",\r\n    })\r\n    const headers = { 'Content-Type': 'application/json' }\r\n    return new Response(body, { status: 404, statusText: 'Not Found', headers })\r\n  })\r\n}\r\nconst requestThenCache = (event, cache) => {\r\n  return fetch(event.request)\r\n    .then(checkResponseStatus)\r\n    .then(response => {\r\n      if (isResponseCacheable(response)) {\r\n        cache.put(event.request, response.clone())\r\n      }\r\n      return response\r\n    })\r\n    .catch(() => cache.match(event.request))\r\n}\r\n\r\nself.addEventListener('fetch', event => {\r\n  // if request should not be cached: respond with normal 404 fetch and return\r\n  if (!isRequestCacheable(event.request)) {\r\n    event.respondWith(requestFailingWith404(event))\r\n    return\r\n  }\r\n\r\n  // ! ignore query strings\r\n  const requestURL = event.request.url\r\n  const request = requestURL.includes('?')\r\n    ? new Request(requestURL.substring(requestURL.indexOf('?') + 1))\r\n    : event.request\r\n\r\n  event.respondWith(\r\n    caches\r\n      .match(request)\r\n      .then(checkResponseStatus)\r\n      .then(response => {\r\n        return caches.open(CACHE_NAME).then(cache => {\r\n          if (navigator.onLine) requestThenCache(event, cache)\r\n          return response\r\n        })\r\n      })\r\n      .catch(() =>\r\n        caches.open(CACHE_NAME).then(cache => requestThenCache(event, cache)),\r\n      ),\r\n  )\r\n})\r\n"]}